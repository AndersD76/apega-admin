################################################################################
#                          CONFIGURAÇÕES DO SERVIDOR
################################################################################

# Ambiente (development, staging, production)
NODE_ENV="development"

# Porta do servidor
PORT=3001

# URL da aplicação (sem barra no final)
API_URL="http://localhost:3001"

# URL do frontend (para CORS e redirecionamentos)
FRONTEND_URL="http://localhost:3000"
MOBILE_APP_URL="apegadesapega://"

################################################################################
#                          BANCO DE DADOS
################################################################################

# PostgreSQL
DATABASE_URL="postgresql://usuario:senha@localhost:5432/apega_desapega_db"

# Redis (cache e filas)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""

################################################################################
#                          AUTENTICAÇÃO (JWT)
################################################################################

# Secret para tokens de acesso (use uma string aleatória forte)
JWT_SECRET="seu-secret-super-seguro-aqui-mude-em-producao"
JWT_EXPIRES_IN="7d"

# Secret para refresh tokens (diferente do JWT_SECRET)
JWT_REFRESH_SECRET="seu-refresh-secret-aqui-diferente-do-jwt"
JWT_REFRESH_EXPIRES_IN="30d"

# Admin Panel JWT
ADMIN_JWT_SECRET="admin-secret-super-seguro-aqui"
ADMIN_JWT_EXPIRES_IN="8h"

################################################################################
#                          PAGAMENTOS
################################################################################

# STRIPE
STRIPE_PUBLISHABLE_KEY="pk_test_xxxxx"
STRIPE_SECRET_KEY="sk_test_xxxxx"
STRIPE_WEBHOOK_SECRET="whsec_xxxxx"
STRIPE_API_VERSION="2023-10-16"

# MERCADO PAGO
MERCADOPAGO_ACCESS_TOKEN="APP_USR-xxxxx"
MERCADOPAGO_PUBLIC_KEY="APP_USR-xxxxx"
MERCADOPAGO_WEBHOOK_SECRET="seu-webhook-secret-aqui"

################################################################################
#                          UPLOAD DE IMAGENS
################################################################################

# Escolha: "s3" ou "cloudinary"
IMAGE_STORAGE_PROVIDER="cloudinary"

# AWS S3
AWS_ACCESS_KEY_ID="AKIA..."
AWS_SECRET_ACCESS_KEY="xxxxx"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="apega-desapega-images"
AWS_S3_CDN_URL="https://d123456.cloudfront.net"

# CLOUDINARY
CLOUDINARY_CLOUD_NAME="seu-cloud-name"
CLOUDINARY_API_KEY="123456789012345"
CLOUDINARY_API_SECRET="xxxxx"
CLOUDINARY_UPLOAD_PRESET="apega_images"

################################################################################
#                          GEOLOCALIZAÇÃO
################################################################################

# GOOGLE MAPS API
GOOGLE_MAPS_API_KEY="AIzaSy..."
GOOGLE_MAPS_GEOCODING_ENABLED="true"
GOOGLE_MAPS_DISTANCE_MATRIX_ENABLED="true"

################################################################################
#                          NOTIFICAÇÕES PUSH
################################################################################

# FIREBASE CLOUD MESSAGING (FCM)
FIREBASE_PROJECT_ID="apega-desapega"
FIREBASE_PRIVATE_KEY_ID="xxxxx"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nxxxxx\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL="firebase-adminsdk-xxxxx@apega-desapega.iam.gserviceaccount.com"
FIREBASE_CLIENT_ID="123456789012345678901"
FIREBASE_SERVER_KEY="AAAAxxxxx:APA91b..."

################################################################################
#                          ANALYTICS
################################################################################

# GOOGLE ANALYTICS 4
GA4_MEASUREMENT_ID="G-XXXXXXXXXX"
GA4_API_SECRET="xxxxx"
GA4_PROPERTY_ID="properties/123456789"

################################################################################
#                          ENVIO E LOGÍSTICA
################################################################################

# MELHOR ENVIO
MELHOR_ENVIO_CLIENT_ID="seu-client-id"
MELHOR_ENVIO_CLIENT_SECRET="seu-client-secret"
MELHOR_ENVIO_REDIRECT_URI="https://sua-api.com/auth/melhor-envio/callback"
MELHOR_ENVIO_SANDBOX="true"
MELHOR_ENVIO_ACCESS_TOKEN=""
MELHOR_ENVIO_REFRESH_TOKEN=""

# CORREIOS (integração direta - opcional)
CORREIOS_USER=""
CORREIOS_PASSWORD=""

################################################################################
#                          EMAIL
################################################################################

# SMTP (Gmail, SendGrid, Mailgun, etc.)
EMAIL_PROVIDER="smtp"
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT=587
EMAIL_SECURE="false"
EMAIL_USER="seu-email@gmail.com"
EMAIL_PASS="sua-senha-app-do-gmail"
EMAIL_FROM="Apega Desapega <noreply@apegadesapega.com.br>"

# SendGrid (alternativa)
SENDGRID_API_KEY=""

################################################################################
#                          REGRAS DE NEGÓCIO
################################################################################

# Comissão da plataforma (%)
DEFAULT_COMMISSION_RATE=30

# Cashback (%)
CASHBACK_FIRST_PURCHASE_RATE=15
CASHBACK_DEFAULT_RATE=10
CASHBACK_EXPIRATION_DAYS=180

# Saques
MIN_WITHDRAWAL_AMOUNT=10
MAX_WITHDRAWAL_AMOUNT=5000
MAX_WITHDRAWALS_PER_DAY=3
WITHDRAWAL_SECURITY_PERIOD_DAYS=7

# Disputas
DISPUTE_OPEN_PERIOD_DAYS=7
DISPUTE_SELLER_RESPONSE_DAYS=3
DISPUTE_PLATFORM_RESOLUTION_DAYS=5
DISPUTE_MAX_EVIDENCE_FILES=5

# Reviews
REVIEW_WINDOW_DAYS=15

# KYC/AML
MONTHLY_TRANSACTION_LIMIT=50000

################################################################################
#                          SEGURANÇA
################################################################################

# CORS Origins permitidas (separadas por vírgula)
CORS_ORIGINS="http://localhost:3000,http://localhost:8081,apegadesapega://"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Criptografia
ENCRYPTION_KEY="encryption-key-32-characters-min"
ENCRYPTION_IV_LENGTH=16

# 2FA
TWO_FACTOR_AUTH_ENABLED="true"
TWO_FACTOR_THRESHOLD_AMOUNT=1000

################################################################################
#                          WEBHOOKS
################################################################################

# URLs para receber webhooks das integrações
WEBHOOK_BASE_URL="https://sua-api.com/webhooks"

# Secrets para validar webhooks (gerados automaticamente pelas plataformas)
STRIPE_WEBHOOK_SECRET="whsec_xxxxx"
MERCADOPAGO_WEBHOOK_SECRET="seu-secret"
MELHOR_ENVIO_WEBHOOK_SECRET="seu-secret"

################################################################################
#                          LOGS E MONITORAMENTO
################################################################################

# Log Level (error, warn, info, debug)
LOG_LEVEL="info"

# Sentry (opcional - para tracking de erros)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"

# New Relic (opcional - para APM)
NEW_RELIC_LICENSE_KEY=""
NEW_RELIC_APP_NAME="Apega Desapega API"

################################################################################
#                          JOBS E FILAS
################################################################################

# Bull Queue (requer Redis)
QUEUE_ENABLED="true"
QUEUE_CONCURRENCY=5

# Cron Jobs
CRON_EXPIRE_CASHBACK_ENABLED="true"
CRON_RELEASE_BALANCE_ENABLED="true"
CRON_SEND_REVIEW_REMINDERS_ENABLED="true"

################################################################################
#                          DESENVOLVIMENTO
################################################################################

# Debug
DEBUG="false"
VERBOSE_LOGS="false"

# Seeds e testes
SEED_DATABASE="false"
TEST_MODE="false"
